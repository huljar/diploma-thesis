% !TeX program = lualatex
% !TeX spellcheck = en_US
\documentclass[
	paper=a4,
	%open=right, % Chapters start on right pages
	%twoside=true,
	fontsize=11pt,
	parskip=full % Space between paragraphs
]{scrreprt}

% % % Polyglossia % % %
\usepackage{polyglossia}
\setmainlanguage[variant=american]{english}

% % % csquotes % % %
\usepackage{csquotes}

% % % BibLaTeX % % %
\usepackage[
	%abbreviate=false, % Don't abbreviate standard bibliography terms
	backend=biber, % Bibliography engine
	citestyle=numeric-comp, % Style for citations
	bibstyle=numeric, % Style for bibliography
	date=terse, % Shorter dates
	ibidtracker=false, idemtracker=false, opcittracker=false, citetracker=false, % Don't abbreviate when same citation twice in a row
	doi=false, % Don't print the following fields in the bibliography, unless required by the entry type
	isbn=false,
	url=false,
	giveninits=true, % Render first and middle names as initials
	uniquename=init, % Prevent using initials for authors
	maxcitenames=2, % Maximum number of authors to use in citations
	maxbibnames=99 % Print all authors in bibliography
]{biblatex}

\bibliography{quellen}

\setlength{\bibitemsep}{.7\baselineskip} % Empty lines between literature sources

\renewcommand{\labelnamepunct}{\addcolon\addspace} % Colon between author and title in bibliography

% General settings
\setcounter{tocdepth}{2} % Show chapters, sections, and subsection in the table of contents
\interfootnotelinepenalty=10000 % Prevent breaking of footnotes across pages

% % % Bookmark % % %
\usepackage[open,openlevel=1]{bookmark}

% % % VarioRef % % %
%\usepackage{varioref}
\newcommand\vref{\ref} % TODO: disabling varioref for now because it causes unstable typesetting

% % % GraphicX % % %
\usepackage{graphicx}
\graphicspath{{bilder/}{grafiken/}}

% % % SVG % % %
% Since we use lualatex, some pdftex commands need to be imported first
%\usepackage{pdftexcmds}
%\makeatletter
%\let\pdfstrcmp\pdf@strcmp
%\let\pdffilemoddate\pdf@filemoddate
%\makeatother

%\usepackage[svgpath=grafiken/]{svg}

% % % TabularY % % %
\usepackage{tabulary}
\usepackage{multirow}
\usepackage{hhline}

% % % Glossaries % % %
\usepackage[toc,nonumberlist]{glossaries}
\include{glossar}
\makeglossaries

% % % EnumItem % % %
\usepackage{enumitem}
\setitemize{itemsep=-.5\parskip, topsep=-.5\baselineskip}
\setenumerate{itemsep=-.5\parskip, topsep=-.5\baselineskip}

% % % Titling % % %
\usepackage{titling}

% % % Caption % % %
\usepackage[font={small,it}]{caption}

% % % math packages % % %
\usepackage{mathtools}
\usepackage{amsmath}
\usepackage{amssymb}

% % % ChangeCounter % % %
\usepackage{chngcntr}
\counterwithout{footnote}{chapter} % Global footnote indices

% % % EPStoPDF % % %
%\usepackage{epstopdf}

% % % Color % % %
\usepackage{color}

% % % SIunitX % % %
\usepackage[group-separator={,}]{siunitx}

% % % Rahmendaten % % %
\author{Julian Harttung}
\title{Secure and Efficient Communication for Network-on-Chip under the Consideration of Multiple Paths}
\newcommand{\thesubtitle}{Diploma Thesis}
\newcommand{\theuniversity}{Dresden University of Technology}
\newcommand{\thefaculty}{Faculty of Computer Science}
\newcommand{\theinstitute}{Institute of Systems Architecture}
\newcommand{\thechair}{Chair of Privacy and Data Security}
% % % Rahmendaten Ende % % %

% Hilfsmakros
\newcommand{\omnet}{OMNeT++}

\begin{document}
    \frenchspacing % Disable double spaces between sentences
	\begin{titlepage}
		\includegraphics[width=0.28\textwidth]{header_logo_tud}
		\hfill
		\includegraphics[width=0.28\textwidth]{header_logo_haec} % TODO: find HD HAEC logo
		\vspace{1.5\baselineskip}
		
		\begin{center}
			\textsc{\theuniversity \\
					\thefaculty \\
					\theinstitute \\
					\thechair}
			\vspace{2.5\baselineskip}
		
			\Huge{\thetitle}
			\vspace{.5\baselineskip}
			
			\LARGE{\thesubtitle}
		\end{center}
		
		\vfill
		
		\begin{tabular}{ll}
			Author:               & \theauthor \\
			Course of Studies:    & Diplom-Informatik (PO 2010)\\
			Matriculation Number: & 3753196 \\
			Supervisors:          & Dr.-Ing. Elke Franz and Dipl.-Inf. Paul Walther \\
			Professor:            & Prof. Dr. Thorsten Strufe \\
			\multicolumn{2}{l}{ } \\
			\multicolumn{2}{l}{ } \\
			\multicolumn{2}{l}{ } \\
			\multicolumn{2}{l}{Dresden, June 28, 2018}
		\end{tabular}
	\end{titlepage}
	
	
	\pagenumbering{roman}
	
	\chapter*{Task}
    Lorem ipsum
	
	\chapter*{Selbstständigkeitserklärung}
	Hiermit erkläre ich, dass ich die von mir am heutigen Tag dem Prüfungsausschuss der Fakultät Informatik eingereichte Arbeit zum Thema:
	\begin{center}
		\textit{\thetitle} 
	\end{center}
	
	vollkommen selbstständig verfasst und keine anderen als die angegebenen Quellen und Hilfsmittel benutzt sowie Zitate kenntlich gemacht habe.
	
	Dresden, June 28, 2018 \\
	\theauthor
	
	
	\chapter*{Abstract}
    Lorem ipsum
	
	\tableofcontents
	
	\addtocontents{lot}{\protect\vspace{-1.4\baselineskip}}
	\addtocontents{lof}{\protect\vspace{-1.4\baselineskip}}
	
	\listoftables
	\vspace{-2.6\baselineskip}
	\begingroup
	\let\clearpage\relax
	\listoffigures
	\endgroup
	
	
	\chapter{Introduction}\label{ch:introduction}
	\pagenumbering{arabic}
    \input{kapitel/introduction}
    
    \chapter{Fundamentals}\label{ch:fundamentals}
    \input{kapitel/fundamentals}

    \chapter{Related Work}\label{ch:relatedwork}
    \input{kapitel/relatedwork}

    \chapter{Overview}\label{ch:overview}
    \input{kapitel/overview}

    \chapter{Communication Protocol}\label{ch:protocol}
    \input{kapitel/protocol}

    \chapter{Implementation}\label{ch:implementation}
    \input{kapitel/implementation}

    \chapter{Experiments}\label{ch:experiments}
    \input{kapitel/experiments}

    \chapter{Evaluation}\label{ch:evaluation}
    \input{kapitel/evaluation}

    \chapter{Conclusion}\label{ch:conclusion}
    \input{kapitel/conclusion}

    \chapter{Future Work}\label{ch:futurework}
    \input{kapitel/futurework}



    \chapter{Talk About}
    \begin{itemize}
        \item Welche Komponenten brauchen wie viele Takte
        \item Anzahl der Enc/Auth units bei den verschiedenen Methoden (mehr enc als auth bei Methode 2)
        \item GALS design pattern - wir sind aber auf jeden Fall synchron innerhalb einer Node, d.h. wenn GALS vs GS diskutiert wird,
            ändert sich nur die Zeit der Übertragung zwischen den Routern → zur Vereinfachung wird GS angenommen
        \item Leichtgewichtige Krypto: FPGA vs. ASIC, speedup von Faktor 3-4 wahrscheinlich möglich (→ critical path delay) \cite{kuon07fpgavsasic}
            → AES und AES\_INV zum Vergleich, da ähnlicher Aufbau von kombinatorischer Logik + FlipFlops (Rundenfunktionen etc.)
        \item Statistiken: Wie viele Crypto Units für Auth+Enc sind gleichzeitig besetzt (→ Auslastung)
        \item Threat model, protection goals
        \item node-unique FIDs/GIDs have advantage that 24 bits are not full nearly as fast as with globally unique IDs
        \item Deadlock/Livelock possibilities? D yes, L not
        \item Unicast/Multicast
        \item Head-of-line blocking in routers → future work w/ virtual channels/TDM etc.
        \item Säulendiagramm (mit verschiedenfarbigen Abschnitten?): Latenz der (einzelnen Phasen der) Flitübertragung im Vergleich: mit NC, mit
            Enc/auth methoden, mit beidem, ohne alles
        \item Tortendiagramm: Für NC+Enc/Auth Methoden, welche Phasen dauern wie lange anteilig
    \end{itemize}

    \section{Assumptions}
    \begin{itemize}
        \item only input buffers are used (for app, NI, router), no output buffers
        \item network coding module stores flits until enough flits with the same
            destination are available (in our case: 2)
        \item network coding (creating all 3 combinations) takes one cycle, but
            because we can only send one flit out per cycle, it takes 3 cycles until
            all combinations are sent (so in the end it's one combination per cycle)
        \item we have a variable number of authentication units and the amount of
            cycles the encryption algorithm takes can be set by a parameter
        \item if all crypto units are busy, the encoded flit combinations are held
            back in a dedicated buffer
        \item if e.g. authentication method 1 is used (1 MAC flit per data flit),
            the data flit is sent out one cycle before the MAC finished computing,
            so the MAC can be sent immediately when it's ready
        \item the encoding/authentication and decoding/verification pipelines in the
            network interface share the same crypto units (but this is not
            implemented yet)
        \item when a flit arrives at the NI from the router, the first thing that is
            done is checking if this is an ARQ. If yes, it is delivered directly to
            the retransmission buffer. Otherwise, it goes through the normal network
            decoding pipeline
        \item when an ARQ arrives at a NI, it takes one cycle to look up the correct
            flit and it will be sent out in the same cycle (not sure about this, two
            cycles might be more realistic)
        \item size of the retransmission buffer is configurable
        \item retransmission buffers use a FIFO caching strategy
        \item if an ARQ and a new data flit arrive a the retransmission buffer
            during the same clock cycle, the ARQ answer (retransmission) has
            priority to be sent out first
        \item in a router, several flits can be routed simultaneously, provided that
            they do not share an input or output port
        \item also in router: flits are held back in the input queues if the
            receiving router's input queue is full (this was discussed in an earlier
            email)
        \item in uncoded flits, the GID header contains a flit ID instead of
            generation ID, and MAC and data flit have the same ID
        \item the different values for the mode header are: normal data flit, mac
            flit, data/mac combined, ARQ
        \item entry guard can distribute a departing and an arriving flit at the same
            time, as long as units are free
        \item it does not matter whether data or mac flit is sent out first (order),
            because they can arrive out-of-order at the destination node anyway
        \item encryption units can also be used for decryption
    \end{itemize}

    \chapter{Notes}
    \section{NoC Design}
    \begin{itemize}
        \item Router: in+out buffer vs. only input buffer (2 cycles vs. 1 cycle routing)
        \item GenTraffic: injection rate of 0.2 was considered in Sadia's calculations and is a good starting point
        \item Network Interface: sender and receiver share the crypto units → we need to keep track of where the flit has to go after leaving the crypto unit → flag at crypto unit itself?
        \item Speed: \gls{noc} usually runs at ~500 MHz or a bit lower, but definitely runs a lot faster than the maximum frequency of the lightweight encryption algorithms. Using multiple clock domains is hard and requires expertise
        \item Crypto algorithms: 18 units for mCrypton was planned; also possible to use multiple (but less) PRINCE units, but then the clock domain problem arises again
    \end{itemize}

    % % % Glossary % % %
    %\glsaddall % Print all glossary entries, not only the referenced ones
    % TODO: add specific entries (the ones only occuring in images) explicitly
    \printglossaries
	
	% % % Bibliography % % %
	%\nocite{*} % Put all entries in the bibliography, not only those cited in the document
    \printbibliography[heading=bibintoc]
\end{document}
